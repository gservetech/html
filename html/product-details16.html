<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product - The Future Unveiled</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #1a1a1a;
            --primary-light: #f5f5f7; /* Apple's off-white background */
            --text-dark: #1d1d1f; /* Apple's standard text color */
            --text-light: #f5f5f7;
            --accent-blue: #007aff; /* Apple's signature blue */
            --light-grey: #e8e8ed; /* For subtle borders/dividers */
            --dark-grey: #86868b; /* For secondary text */
            --gradient-start: #e0eafc; /* Light blue */
            --gradient-end: #cfdef3; /* Slightly darker light blue */
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            scroll-behavior: smooth; /* Smooth scrolling between snap points */
        }

        body {
            font-family: 'Inter', sans-serif;
            color: var(--text-dark);
            background-color: var(--primary-light);
            overflow-y: scroll; /* Allow scrolling */
            scroll-snap-type: y mandatory; /* Enable scroll snapping */
        }

        section {
            min-height: 100vh; /* Each section takes full viewport height */
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            text-align: center;
            scroll-snap-align: start; /* Snap to the start of each section */
            position: relative;
            overflow: hidden; /* Ensure content doesn't bleed outside */
        }

        .hero-section {
            background-size: cover;
            background-position: center center;
            color: var(--text-light);
            position: relative;
            transition: background-image 0.5s ease-in-out; /* Smooth image transition */
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.4); /* Dark overlay for text readability */
            z-index: 0; /* Ensure overlay is below content */
        }

        .hero-content {
            z-index: 1; /* Bring content above overlay */
            max-width: 900px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%; /* Take full height of section */
        }

        .hero-product-name {
            font-family: 'Roboto', sans-serif;
            font-weight: 900;
            font-size: 5.5vw; /* Responsive font size */
            line-height: 1;
            margin-bottom: 20px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            white-space: nowrap; /* Prevent breaking for short names */
        }

        .hero-subtitle {
            font-size: 2.2vw; /* Responsive font size */
            font-weight: 400;
            margin-bottom: 40px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.2);
            opacity: 0.9;
        }

        .hero-cta {
            display: inline-block;
            background-color: var(--accent-blue);
            color: white;
            padding: 18px 40px;
            border-radius: 999px; /* Pill shape */
            text-decoration: none;
            font-size: 1.2vw; /* Responsive font size */
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 15px rgba(0,122,255,0.3);
        }

        .hero-cta:hover {
            background-color: #005bb5;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,122,255,0.4);
        }

        /* Thumbnail Strip within Hero Section */
        .thumbnail-hero-strip {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            z-index: 2; /* Above overlay and content for interaction */
            background: rgba(0, 0, 0, 0.3); /* Semi-transparent background */
            padding: 10px 15px;
            border-radius: 10px;
            backdrop-filter: blur(5px); /* Frosted glass effect */
        }

        .thumbnail-hero-item {
            width: 70px; /* Smaller size for thumbnails */
            height: 70px;
            object-fit: cover;
            border-radius: 8px;
            cursor: pointer;
            border: 2px solid transparent;
            transition: all 0.2s ease;
            opacity: 0.7;
        }

        .thumbnail-hero-item:hover {
            border-color: rgba(255, 255, 255, 0.5);
            opacity: 1;
        }

        .thumbnail-hero-item.active {
            border-color: var(--accent-blue);
            opacity: 1;
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.3);
        }

        /* General Section Styling */
        .section-title {
            font-family: 'Roboto', sans-serif;
            font-weight: 700;
            font-size: 4vw; /* Responsive */
            color: var(--text-dark);
            margin-bottom: 40px;
            padding-top: 50px; /* Add padding for space above title */
        }

        .section-subtitle {
            font-size: 1.5vw;
            color: var(--dark-grey);
            margin-bottom: 60px;
            max-width: 800px;
            line-height: 1.5;
        }

        /* Features Section */
        .features-section {
            background-color: var(--primary-light);
            color: var(--text-dark);
            display: grid;
            grid-template-columns: 1fr;
            gap: 80px;
            place-items: center;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            max-width: 1200px;
            width: 100%;
        }

        .feature-item {
            background-color: var(--card-bg, white);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
            text-align: left;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .feature-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
        }

        .feature-item img {
            width: 80px; /* Icon size */
            height: 80px;
            margin-bottom: 20px;
            object-fit: contain;
        }

        .feature-item h4 {
            font-size: 1.8vw; /* Responsive */
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text-dark);
            line-height: 1.2;
        }

        .feature-item p {
            font-size: 1.1vw;
            color: var(--dark-grey);
            line-height: 1.6;
        }

        /* Specs Section */
        .specs-section {
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: var(--text-dark);
        }

        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px 40px;
            max-width: 1000px;
            width: 100%;
        }

        .spec-item {
            display: flex;
            flex-direction: column;
            text-align: left;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }
        .specs-grid > .spec-item:nth-last-child(-n+2) { /* Adjust for 2-column layout */
            border-bottom: none;
        }
        .specs-grid > .spec-item:nth-last-child(-n+3) { /* Adjust for 3-column layout */
            border-bottom: none;
        }

        .spec-label {
            font-size: 1.2vw;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 5px;
        }

        .spec-value {
            font-size: 1.1vw;
            color: var(--dark-grey);
        }

        /* Pricing Section */
        .pricing-section {
            background-color: var(--primary-dark);
            color: var(--text-light);
        }

        .pricing-section .section-title,
        .pricing-section .section-subtitle {
            color: var(--text-light);
        }

        .price-display {
            font-family: 'Roboto', sans-serif;
            font-weight: 700;
            font-size: 6vw; /* Large price display */
            margin-bottom: 20px;
            line-height: 1;
            white-space: nowrap;
        }

        .price-terms {
            font-size: 1.2vw;
            color: rgba(255,255,255,0.7);
            margin-bottom: 40px;
        }

        .purchase-cta {
            background-color: var(--accent-blue);
            color: white;
            padding: 18px 40px;
            border-radius: 999px;
            text-decoration: none;
            font-size: 1.2vw;
            font-weight: 600;
            transition: background-color 0.3s ease, transform 0.2s ease;
            box-shadow: 0 4px 15px rgba(0,122,255,0.3);
        }

        .purchase-cta:hover {
            background-color: #005bb5;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,122,255,0.4);
        }

        /* Footer (simple) */
        footer {
            padding: 30px 20px;
            text-align: center;
            background-color: var(--primary-dark);
            color: rgba(255,255,255,0.5);
            font-size: 0.9em;
            scroll-snap-align: end;
        }

        /* Media Queries for Responsiveness */
        @media (max-width: 1200px) {
            .hero-product-name {
                font-size: 6.5vw;
            }
            .hero-subtitle {
                font-size: 2.5vw;
            }
            .hero-cta {
                font-size: 1.5vw;
                padding: 15px 35px;
            }
            .section-title {
                font-size: 5vw;
            }
            .section-subtitle {
                font-size: 1.8vw;
            }
            .feature-item h4 {
                font-size: 2.2vw;
            }
            .feature-item p {
                font-size: 1.3vw;
            }
            .spec-label, .spec-value {
                font-size: 1.5vw;
            }
            .price-display {
                font-size: 8vw;
            }
            .price-terms {
                font-size: 1.5vw;
            }
            .purchase-cta {
                font-size: 1.5vw;
                padding: 15px 35px;
            }
        }

        @media (max-width: 768px) {
            .hero-product-name {
                font-size: 8vw;
            }
            .hero-subtitle {
                font-size: 3vw;
            }
            .hero-cta {
                font-size: 2.2vw;
                padding: 12px 30px;
            }
            .section-title {
                font-size: 6.5vw;
            }
            .section-subtitle {
                font-size: 2.5vw;
            }
            .feature-item h4 {
                font-size: 3.5vw;
            }
            .feature-item p {
                font-size: 2vw;
            }
            .specs-grid {
                grid-template-columns: 1fr; /* Single column on mobile */
            }
            .spec-label, .spec-value {
                font-size: 2.5vw;
            }
            .spec-item {
                border-bottom: 1px solid rgba(0,0,0,0.1); /* Re-enable border for single column */
            }
            .spec-item:last-child {
                border-bottom: none;
            }
            .price-display {
                font-size: 10vw;
            }
            .price-terms {
                font-size: 2.5vw;
            }
            .purchase-cta {
                font-size: 2.2vw;
                padding: 12px 30px;
            }
            .thumbnail-hero-strip {
                flex-wrap: wrap; /* Allow thumbnails to wrap */
                justify-content: center;
                gap: 10px;
            }
            .thumbnail-hero-item {
                width: 55px; /* Smaller thumbnails on small screens */
                height: 55px;
            }
        }

        @media (max-width: 480px) {
            .hero-product-name {
                font-size: 10vw;
            }
            .hero-subtitle {
                font-size: 4vw;
            }
            .hero-cta {
                font-size: 3vw;
                padding: 10px 25px;
            }
            .section-title {
                font-size: 8vw;
            }
            .section-subtitle {
                font-size: 3.5vw;
            }
            .feature-item h4 {
                font-size: 4.5vw;
            }
            .feature-item p {
                font-size: 3vw;
            }
            .spec-label, .spec-value {
                font-size: 3.5vw;
            }
            .price-display {
                font-size: 12vw;
            }
            .price-terms {
                font-size: 3.5vw;
            }
            .purchase-cta {
                font-size: 3vw;
                padding: 10px 25px;
            }
            .thumbnail-hero-item {
                width: 50px;
                height: 50px;
            }
        }
    </style>
</head>
<body>

    <section class="hero-section" id="hero-section">
        <div class="hero-content">
            <h1 class="hero-product-name" id="heroProductName">Loading Product...</h1>
            <p class="hero-subtitle" id="heroSubtitle"></p>
            <a href="#pricing-section" class="hero-cta">Learn More</a>
        </div>
        <div class="thumbnail-hero-strip" id="thumbnailHeroStrip">
            </div>
    </section>

    <section class="features-section" id="features-section">
        <h2 class="section-title">Key Features</h2>
        <p class="section-subtitle">Discover what makes this product stand out. Designed with precision and crafted for performance, it integrates seamlessly into your life.</p>
        <div class="features-grid" id="featuresGrid">
            <div class="feature-item">
                <img src="https://via.placeholder.com/80x80?text=Feat1" alt="Feature 1 Icon">
                <h4>Blazing Fast Performance</h4>
                <p>Equipped with the latest generation processor, ensuring smooth and responsive operation for all your tasks.</p>
            </div>
            <div class="feature-item">
                <img src="https://via.placeholder.com/80x80?text=Feat2" alt="Feature 2 Icon">
                <h4>Stunning Visuals</h4>
                <p>Experience breathtaking clarity and vibrant colors on its high-resolution display, perfect for work and entertainment.</p>
            </div>
            <div class="feature-item">
                <img src="https://via.placeholder.com/80x80?text=Feat3" alt="Feature 3 Icon">
                <h4>All-Day Battery Life</h4>
                <p>Go from morning to night on a single charge, thanks to optimized power efficiency and a large capacity battery.</p>
            </div>
        </div>
    </section>

    <section class="specs-section" id="specs-section">
        <h2 class="section-title">Specifications</h2>
        <p class="section-subtitle">Detailed information about the core components and capabilities of our innovative product.</p>
        <div class="specs-grid" id="specsGrid">
            <div class="spec-item">
                <div class="spec-label">Display</div>
                <div class="spec-value">13.3-inch Liquid Retina</div>
            </div>
            <div class="spec-item">
                <div class="spec-label">Processor</div>
                <div class="spec-value">M3 Chip, 8-core CPU</div>
            </div>
            <div class="spec-item">
                <div class="spec-label">RAM</div>
                <div class="spec-value">8GB Unified Memory</div>
            </div>
            <div class="spec-item">
                <div class="spec-label">Storage</div>
                <div class="spec-value">256GB SSD</div>
            </div>
            <div class="spec-item">
                <div class="spec-label">Battery</div>
                <div class="spec-value">Up to 18 hours</div>
            </div>
            <div class="spec-item">
                <div class="spec-label">Weight</div>
                <div class="spec-value">1.24 kg (2.7 lbs)</div>
            </div>
        </div>
    </section>

    <section class="pricing-section" id="pricing-section">
        <h2 class="section-title">Pricing & Availability</h2>
        <p class="section-subtitle">Choose the model that's right for you. Flexible options and competitive pricing.</p>
        <div class="price-display" id="productPrice">$999</div>
        <p class="price-terms" id="priceTerms">Starting from. Financing options available.</p>
        <a href="#" class="purchase-cta" id="purchaseCta">Buy Now</a>
    </section>

    <footer>
        <p>&copy; 2025 Product Company. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to get query parameter
            const urlParams = new URLSearchParams(window.location.search);
            // Default to product ID 1 if not specified, for easier testing
            const productId = urlParams.get('id') || '1';

            // Fetch product data from JSON file
            fetch('data/products-data.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    return response.json();
                })
                .then(products => {
                    const product = products.find(p => p.id == productId);

                    if (product) {
                        renderProductPage(product);
                    } else {
                        // Display a "Product Not Found" message in the hero section or redirect
                        document.getElementById('heroProductName').textContent = "Product Not Found";
                        document.getElementById('heroSubtitle').textContent = "The requested product does not exist.";
                        document.querySelector('.hero-cta').style.display = 'none'; // Hide CTA
                        document.getElementById('thumbnailHeroStrip').style.display = 'none'; // Hide thumbnails
                        document.getElementById('features-section').innerHTML = '<h2 class="section-title">No details available.</h2>';
                        document.getElementById('specs-section').innerHTML = '';
                        document.getElementById('pricing-section').innerHTML = '';
                    }
                })
                .catch(error => {
                    console.error('Error fetching product data:', error);
                    document.getElementById('heroProductName').textContent = "Error Loading Product";
                    document.getElementById('heroSubtitle').textContent = "Please try again later.";
                    document.querySelector('.hero-cta').style.display = 'none'; // Hide CTA
                    document.getElementById('thumbnailHeroStrip').style.display = 'none'; // Hide thumbnails
                    document.getElementById('features-section').innerHTML = '<h2 class="section-title">Error loading details.</h2>';
                    document.getElementById('specs-section').innerHTML = '';
                    document.getElementById('pricing-section').innerHTML = '';
                });
        });

        // Function to change the main hero background image
        function changeHeroImage(imageUrl, clickedThumbnail) {
            const heroSection = document.getElementById('hero-section');
            heroSection.style.backgroundImage = `url('${imageUrl}')`;

            // Update active thumbnail state
            document.querySelectorAll('.thumbnail-hero-item').forEach(thumb => {
                thumb.classList.remove('active');
            });
            clickedThumbnail.classList.add('active');
        }

        function renderProductPage(product) {
            // --- Hero Section ---
            document.getElementById('heroProductName').textContent = product.name;
            document.getElementById('heroSubtitle').textContent = product.tagline || product.description[0];

            // Set initial hero background image
            const heroSection = document.getElementById('hero-section');
            heroSection.style.backgroundImage = `url('${product.images[0]}')`;

            // Populate thumbnails
            const thumbnailHeroStrip = document.getElementById('thumbnailHeroStrip');
            thumbnailHeroStrip.innerHTML = ''; // Clear existing thumbnails

            product.images.forEach((imgSrc, index) => {
                const img = document.createElement('img');
                img.src = imgSrc;
                img.alt = `Thumbnail ${index + 1}`;
                img.classList.add('thumbnail-hero-item');
                img.dataset.index = index;
                img.onclick = () => changeHeroImage(imgSrc, img);
                thumbnailHeroStrip.appendChild(img);
            });

            // Set the first thumbnail as active initially
            const firstThumbnail = document.querySelector('.thumbnail-hero-item[data-index="0"]');
            if (firstThumbnail) {
                firstThumbnail.classList.add('active');
            }

            document.querySelector('.hero-cta').href = product.product_url;


            // --- Features Section ---
            const featuresGrid = document.getElementById('featuresGrid');
            featuresGrid.innerHTML = ''; // Clear placeholder content

            // Check if product.features exists and has content before iterating
            if (product.features && product.features.length > 0) {
                product.features.forEach(feature => {
                    const featureItem = document.createElement('div');
                    featureItem.classList.add('feature-item');
                    featureItem.innerHTML = `
                        <img src="${feature.icon || 'https://via.placeholder.com/80x80?text=Feat'}" alt="${feature.title} Icon">
                        <h4>${feature.title}</h4>
                        <p>${feature.description}</p>
                    `;
                    featuresGrid.appendChild(featureItem);
                });
            } else {
                featuresGrid.innerHTML = '<p style="text-align: center; color: var(--dark-grey); width: 100%;">No key features listed for this product.</p>';
            }


            // --- Specifications Section ---
            const specsGrid = document.getElementById('specsGrid');
            specsGrid.innerHTML = ''; // Clear placeholder content

            const specs = [
                { label: 'Brand', value: product.name.split(' - ')[0] },
                { label: 'Model', value: product.name.split(' - ')[1] || 'N/A' },
                { label: 'Status', value: product.status.name },
                { label: 'Affiliate Partner', value: product.affiliate_provider.name },
                ...(product.weight ? [{ label: 'Weight', value: `${product.weight} kg` }] : []),
                ...(product.width && product.height ? [{ label: 'Dimensions', value: `${product.width}" x ${product.height}"` }] : []),
                // Add more specs if available in your product data, e.g.,
                // { label: 'Display Type', value: product.display_type },
                // { label: 'Processor', value: product.processor_model },
                // { label: 'RAM', value: product.ram },
                // { label: 'Storage', value: product.storage },
            ];

            if (specs.length > 0) {
                specs.forEach(spec => {
                    const specItem = document.createElement('div');
                    specItem.classList.add('spec-item');
                    specItem.innerHTML = `
                        <div class="spec-label">${spec.label}</div>
                        <div class="spec-value">${spec.value}</div>
                    `;
                    specsGrid.appendChild(specItem);
                });
            } else {
                 specsGrid.innerHTML = '<p style="text-align: center; color: var(--dark-grey); width: 100%;">No detailed specifications available.</p>';
            }


            // --- Pricing Section ---
            const formattedPrice = product.price.toFixed(2);
            let priceText = `$${formattedPrice}`;
            let priceTermsText = 'Pricing may vary by configuration.';

            if (product.discount > 0) {
                const originalPrice = (product.price / (1 - product.discount/100)).toFixed(2);
                priceText = `<span style="text-decoration: line-through; color: rgba(255,255,255,0.6); font-size: 0.7em;">$${originalPrice}</span> $${formattedPrice}`;
                priceTermsText = `Save ${product.discount}%! Limited time offer.`;
            }

            document.getElementById('productPrice').innerHTML = priceText;
            document.getElementById('priceTerms').textContent = priceTermsText;
            document.getElementById('purchaseCta').href = product.product_url; // Link to actual product page

            if (product.stock === 0) {
                document.getElementById('purchaseCta').textContent = "Out of Stock";
                document.getElementById('purchaseCta').classList.remove('purchase-cta'); // Remove default styling
                document.getElementById('purchaseCta').style.cssText = `
                    background-color: ${getComputedStyle(document.documentElement).getPropertyValue('--dark-grey')};
                    cursor: not-allowed;
                    pointer-events: none;
                    box-shadow: none;
                    opacity: 0.7;
                    color: rgba(255,255,255,0.9);
                `;
            }
        }
    </script>
</body>
</html>